{"version":3,"sources":["NumberInput.js"],"names":[],"mappings":"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","file":"NumberInput.min.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {string, number, func, shape, oneOf, object} from 'prop-types'\n\nconst NumberInput = ({ className, style, placeholder, name, inputMode, onChange, onFocus, onBlur, defaultValue, localeOptions }) => {\n  const [lastValue, setLastValue] = useState(+defaultValue||'')\n  const [value, setValue] = useState(+defaultValue||'')\n  const [type, setType] = useState('number')\n\n  useEffect(() => {\n    numberToText()\n  }, [])\n\n  function textToNumber(field){\n    setType('number')\n    setValue(lastValue)\n  }\n\n  function numberToText(field){\n    setType('')\n    setLastValue(value)\n    setValue( value == '' ? '' : (+value).toLocaleString(undefined, localeOptions) )\n  }\n\n  function onFocusLocal(e){\n    textToNumber(e.target)\n    onFocus && onFocus(e)\n  }\n\n  function onBlurLocal(e){\n    numberToText(e.target)\n    onBlur && onBlur(e)\n  }\n\n  function onChangeLocal(e){\n    setValue(e.target.value)\n    onChange && onChange(e)\n  }\n\n  return <input className={className}\n    style={style}\n    type={type}\n    name={name}\n    value={value}\n    inputMode={inputMode || 'decimal'}\n    placeholder={placeholder}\n    onChange={onChangeLocal}\n    onFocus={onFocusLocal}\n    onBlur={onBlurLocal} />\n}\n\nNumberInput.propTypes = {\n  className    : string,\n  placeholder  : string,\n  name         : string,\n  inputMode    : string,\n  onChange     : func,\n  defaultValue : number,\n\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat\n  localeOptions: shape({\n    maximumFractionDigits   : number,\n    minimumSignificantDigits: number,\n    maximumSignificantDigits: number,\n    style                   : object,\n    numberingSystem         : string,\n    currencySign            : string,\n    currency                : string,\n    unit                    : string,\n    style                   : oneOf(['decimal', 'currency', 'percent', 'unit']),\n    unitDisplay             : oneOf(['long', 'short', 'narrow']),\n    currencyDisplay         : oneOf(['symbol', 'narrowSymbol', 'code', 'name']),\n    notation                : oneOf(['standard', 'scientific', 'engineering', 'compact']),\n    signDisplay             : oneOf(['auto', 'never', 'always', 'exceptZero']),\n  })\n}\n\nexport default NumberInput"]}