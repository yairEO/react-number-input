{"version":3,"sources":["NumberInput.js"],"names":[],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAM,WAAW,GAAG,SAAd,WAAc,OAA+F;AAAA,MAA5F,SAA4F,QAA5F,SAA4F;AAAA,MAAjF,KAAiF,QAAjF,KAAiF;AAAA,MAA1E,WAA0E,QAA1E,WAA0E;AAAA,MAA7D,IAA6D,QAA7D,IAA6D;AAAA,MAAvD,SAAuD,QAAvD,SAAuD;AAAA,MAA5C,QAA4C,QAA5C,QAA4C;AAAA,MAAlC,YAAkC,QAAlC,YAAkC;AAAA,MAApB,aAAoB,QAApB,aAAoB;;AAAA,kBAC/E,qBAAS,YAAY,IAAE,EAAvB,CAD+E;AAAA;AAAA,MAC1G,SAD0G;AAAA,MAC/F,YAD+F;;AAAA,mBAEvF,qBAAS,CAAC,YAAD,IAAe,EAAxB,CAFuF;AAAA;AAAA,MAE1G,KAF0G;AAAA,MAEnG,QAFmG;;AAAA,mBAGzF,qBAAS,QAAT,CAHyF;AAAA;AAAA,MAG1G,IAH0G;AAAA,MAGpG,OAHoG;;AAKjH,wBAAU,YAAM;AACd,IAAA,YAAY;AACb,GAFD,EAEG,EAFH;;AAIA,WAAS,YAAT,CAAsB,KAAtB,EAA4B;AAC1B,IAAA,OAAO,CAAC,QAAD,CAAP;AACA,IAAA,QAAQ,CAAC,SAAD,CAAR;AACD;;AAED,WAAS,YAAT,CAAsB,KAAtB,EAA4B;AAC1B,IAAA,OAAO,CAAC,EAAD,CAAP;AACA,IAAA,YAAY,CAAC,KAAD,CAAZ;AACA,IAAA,QAAQ,CAAE,KAAK,IAAI,EAAT,GAAc,EAAd,GAAmB,CAAC,CAAC,KAAF,EAAS,cAAT,CAAwB,SAAxB,EAAmC,aAAnC,CAArB,CAAR;AACD;;AAED,WAAS,OAAT,CAAiB,CAAjB,EAAmB;AACjB,IAAA,YAAY,CAAC,CAAC,CAAC,MAAH,CAAZ;AACD;;AAED,WAAS,MAAT,CAAgB,CAAhB,EAAkB;AAChB,IAAA,YAAY,CAAC,CAAC,CAAC,MAAH,CAAZ;AACD;;AAED,WAAS,aAAT,CAAuB,CAAvB,EAAyB;AACvB,IAAA,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CAAR;AACA,IAAA,QAAQ,IAAI,QAAQ,CAAC,CAAD,CAApB;AACD;;AAED,sBAAO;AAAO,IAAA,SAAS,EAAE,SAAlB;AACL,IAAA,KAAK,EAAE,KADF;AAEL,IAAA,IAAI,EAAE,IAFD;AAGL,IAAA,IAAI,EAAE,IAHD;AAIL,IAAA,KAAK,EAAE,KAJF;AAKL,IAAA,SAAS,EAAE,SAAS,IAAI,SALnB;AAML,IAAA,WAAW,EAAE,WANR;AAOL,IAAA,QAAQ,EAAE,aAPL;AAQL,IAAA,OAAO,EAAE,OARJ;AASL,IAAA,MAAM,EAAE;AATH,IAAP;AAUD,CA3CD;;AA6CA,WAAW,CAAC,SAAZ,GAAwB;AACtB,EAAA,SAAS,EAAM,iBADO;AAEtB,EAAA,WAAW,EAAI,iBAFO;AAGtB,EAAA,IAAI,EAAW,iBAHO;AAItB,EAAA,SAAS,EAAM,iBAJO;AAKtB,EAAA,QAAQ,EAAO,eALO;AAMtB,EAAA,YAAY,EAAG,iBANO;AAQtB;AACA,EAAA,aAAa,EAAE;AACb,IAAA,qBAAqB,EAAK,iBADb;AAEb,IAAA,wBAAwB,EAAE,iBAFb;AAGb,IAAA,wBAAwB,EAAE,iBAHb;AAIb,IAAA,KAAK,EAAqB,iBAJb;AAKb,IAAA,eAAe,EAAW,iBALb;AAMb,IAAA,YAAY,EAAc,iBANb;AAOb,IAAA,QAAQ,EAAkB,iBAPb;AAQb,IAAA,IAAI,EAAsB;AARb,sCASa,sBAAM,CAAC,SAAD,EAAY,UAAZ,EAAwB,SAAxB,EAAmC,MAAnC,CAAN,CATb,0CAUa,sBAAM,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,CAAN,CAVb,8CAWa,sBAAM,CAAC,QAAD,EAAW,cAAX,EAA2B,MAA3B,EAAmC,MAAnC,CAAN,CAXb,uCAYa,sBAAM,CAAC,UAAD,EAAa,YAAb,EAA2B,aAA3B,EAA0C,SAA1C,CAAN,CAZb,0CAaa,sBAAM,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4B,YAA5B,CAAN,CAbb;AATO,CAAxB;eA0Be,W","file":"NumberInput.min.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {string, number, func, shape, oneOf, object} from 'prop-types'\n\nconst NumberInput = ({ className, style, placeholder, name, inputMode, onChange, defaultValue, localeOptions }) => {\n  const [lastValue, setLastValue] = useState(defaultValue||'')\n  const [value, setValue] = useState(+defaultValue||'')\n  const [type, setType] = useState('number')\n\n  useEffect(() => {\n    numberToText()\n  }, [])\n\n  function textToNumber(field){\n    setType('number')\n    setValue(lastValue)\n  }\n\n  function numberToText(field){\n    setType('')\n    setLastValue(value)\n    setValue( value == '' ? '' : (+value).toLocaleString(undefined, localeOptions) )\n  }\n\n  function onFocus(e){\n    textToNumber(e.target)\n  }\n\n  function onBlur(e){\n    numberToText(e.target)\n  }\n\n  function onChangeLocal(e){\n    setValue(e.target.value)\n    onChange && onChange(e)\n  }\n\n  return <input className={className}\n    style={style}\n    type={type}\n    name={name}\n    value={value}\n    inputMode={inputMode || 'decimal'}\n    placeholder={placeholder}\n    onChange={onChangeLocal}\n    onFocus={onFocus}\n    onBlur={onBlur} />\n}\n\nNumberInput.propTypes = {\n  className    : string,\n  placeholder  : string,\n  name         : string,\n  inputMode    : string,\n  onChange     : func,\n  defaultValue : number,\n\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat\n  localeOptions: shape({\n    maximumFractionDigits   : number,\n    minimumSignificantDigits: number,\n    maximumSignificantDigits: number,\n    style                   : object,\n    numberingSystem         : string,\n    currencySign            : string,\n    currency                : string,\n    unit                    : string,\n    style                   : oneOf(['decimal', 'currency', 'percent', 'unit']),\n    unitDisplay             : oneOf(['long', 'short', 'narrow']),\n    currencyDisplay         : oneOf(['symbol', 'narrowSymbol', 'code', 'name']),\n    notation                : oneOf(['standard', 'scientific', 'engineering', 'compact']),\n    signDisplay             : oneOf(['auto', 'never', 'always', 'exceptZero']),\n  })\n}\n\nexport default NumberInput"]}